{% from "_formhelpers.html" import render_field %}
{% extends "_base.html" %}
{% block body %}
  <h2>Search VoDs</h2>
  <form action="" method="post">
      <div class="input text">
          {{ render_field(form.game) }}
          {{ render_field(form.runner) }}
          {{ render_field(form.commentator) }}
          {{ render_field(form.search) }}
      </div>
  </form>
  <h2>Results</h2>
  <ul class="entries">
  {% for vod_str in vod_strs %}
    <li>{{ vod_str }}</li>
  {% else %}
    <li><em>No VoDs matching your search!</em></li>
  {% endfor %}
  </ul>


<script>
    $(function() {
        $("#game_autocomplete").autocomplete({
            source: '{{ url_for("games.root") }}',
            method: "get",
            minLength: 1
        });

        $(function() {
            $("#runner_autocomplete").autocomplete({
                source: '{{ url_for("participants.root") }}',
                method: "get",
                minLength: 1
            });
        });

        $(function() {
            $("#commentator_autocomplete").autocomplete({
                source: '{{ url_for("participants.root") }}',
                method: "get",
                minLength: 1
            });
        });
    });
</script>

{% endblock %}
